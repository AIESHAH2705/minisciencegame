<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Weather Fun Game</title>
<style>
  body {
    margin: 0;
    font-family: 'Comic Sans MS', cursive, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: background 1s;
    overflow: hidden;
  }

  #backButton, #muteButton {
    position: absolute;
    padding: 10px 15px;
    background-color: #0288d1;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    z-index: 1000;
  }

  #backButton { top: 10px; left: 10px; }
  #muteButton { top: 10px; right: 10px; }

  h1 {
    margin-top: 50px;
    color: #1565c0;
    text-shadow: 1px 1px 2px #fff;
  }

  #description {
    font-size: 18px;
    font-weight: bold;
    margin: 10px 0 20px 0;
    text-align: center;
    color: #0d47a1;
    text-shadow: 1px 1px 2px #bbdefb;
  }

  #gameBoard {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 15px;
    width: 90%;
    max-width: 600px;
    margin-bottom: 30px;
  }

  .card {
    width: 120px;
    height: 150px;
    background: #90caf9;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    font-size: 16px;
    cursor: pointer;
    box-shadow: 2px 2px 8px #64b5f6;
    transition: transform 0.3s;
    overflow: hidden;
    padding-top: 5px;
  }

  .card img {
    width: 100%;
    height: 100px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 5px;
  }

  .card:hover { transform: scale(1.1); }

  #message {
    font-size: 18px;
    font-weight: bold;
    color: #1565c0;
    text-shadow: 1px 1px 2px #bbdefb;
    min-height: 100px;
    text-align: center;
    width: 90%;
    max-width: 600px;
  }

  /* Rain animation */
  .raindrop {
    position: absolute;
    width: 2px;
    height: 15px;
    background: #2196f3;
    animation: fall 1s linear infinite;
    opacity: 0.7;
  }

  @keyframes fall {
    0% { transform: translateY(-20px); }
    100% { transform: translateY(100vh); }
  }

  /* Snow animation */
  .snowflake {
    position: absolute;
    width: 8px;
    height: 8px;
    background: white;
    border-radius: 50%;
    opacity: 0.8;
    animation: snow 5s linear infinite;
  }

  @keyframes snow {
    0% { transform: translateY(-10px) translateX(0); }
    100% { transform: translateY(100vh) translateX(50px); }
  }

  /* Sunny overlay */
  .sunshine {
    position: absolute;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at top left, rgba(255,255,100,0.4), transparent 70%);
    pointer-events: none;
    z-index: 0;
  }
</style>
</head>
<body>

<button id="backButton" onclick="history.back()">â¬… Back</button>
<button id="muteButton" onclick="toggleMusic()">ðŸ”Š Mute</button>

<h1>Weather Fun Game</h1>
<div id="description">Click on a card to see the weather!</div>
<div id="gameBoard"></div>
<div id="message"></div>

<!-- Background music -->
<audio id="bgMusic" loop autoplay>
  <source src="OLAF.mp3" type="audio/mpeg">
</audio>

<script>
const bgMusic = document.getElementById('bgMusic');
const muteButton = document.getElementById('muteButton');
bgMusic.volume = 0.2;
bgMusic.play().catch(() => console.log("User interaction required for autoplay"));

// Mute/Unmute
function toggleMusic() {
  if (bgMusic.paused) {
    bgMusic.play();
    muteButton.textContent = "ðŸ”Š Mute";
  } else {
    bgMusic.pause();
    muteButton.textContent = "ðŸ”‡ Unmute";
  }
}

// Weather cards with longer explanations
const weatherCards = [
  { 
    name: "Sunny", 
    info: "The sun is shining brightly! It's a perfect day to go outside, play, or take a walk. Remember to wear sunglasses to protect your eyes and apply sunscreen to keep your skin safe. Drink plenty of water to stay hydrated and enjoy outdoor activities like flying kites, cycling, or having a picnic in the park.",
    img: "sunny.jpg",
    effect: "sunny"
  },
  { 
    name: "Rainy", 
    info: "It's raining outside. Listen to the sound of raindrops falling! Don't forget your umbrella, raincoat, or waterproof boots if you go outside. Roads and sidewalks might be slippery, so walk carefully. Rain is great for plants and can be fun for puddle splashing or watching the clouds and rain patterns from your window.",
    img: "rainy.jpg",
    effect: "rain"
  },
  { 
    name: "Snowy", 
    info: "Snow is falling and covering the ground in white! Dress warmly with coats, gloves, scarves, and hats. Snow is perfect for building snowmen, making snow angels, or having a friendly snowball fight. Enjoy the winter fun but be careful on slippery surfaces. Warm drinks like cocoa taste extra good on snowy days!",
    img: "snowy.jpg",
    effect: "snow"
  },
  { 
    name: "Cloudy", 
    info: "The sky is covered with clouds. It might feel cooler and the sun may not be visible. Cloudy days are great for calm indoor activities, reading, or painting. Sometimes clouds can bring rain later, so be prepared with an umbrella if going out. It's also a perfect day to observe cloud shapes and learn about different cloud types!",
    img: "cloudly.jpg",
    effect: "cloudy"
  }
];

const gameBoard = document.getElementById('gameBoard');
const message = document.getElementById('message');

// Create cards
weatherCards.forEach(card => {
  const div = document.createElement('div');
  div.classList.add('card');
  div.innerHTML = `<img src="${card.img}" alt="${card.name}"><div>${card.name}</div>`;
  div.addEventListener('click', () => {
    message.textContent = card.info;
    setWeatherEffect(card.effect);
  });
  gameBoard.appendChild(div);
});

function clearEffects() {
  document.querySelectorAll('.raindrop, .snowflake, .sunshine').forEach(el => el.remove());
}

// Weather effect function
function setWeatherEffect(type) {
  clearEffects();
  document.body.style.background = "#81d4fa"; // default

  if (type === "sunny") {
    const sun = document.createElement('div');
    sun.classList.add('sunshine');
    document.body.appendChild(sun);
  }

  if (type === "rain") {
    document.body.style.background = "#90caf9";
    for (let i = 0; i < 100; i++) {
      const drop = document.createElement('div');
      drop.classList.add('raindrop');
      drop.style.left = Math.random() * window.innerWidth + "px";
      drop.style.animationDuration = (0.5 + Math.random() * 0.5) + "s";
      document.body.appendChild(drop);
    }
  }

  if (type === "snow") {
    document.body.style.background = "#a2cfe5";
    for (let i = 0; i < 50; i++) {
      const snow = document.createElement('div');
      snow.classList.add('snowflake');
      snow.style.left = Math.random() * window.innerWidth + "px";
      snow.style.animationDuration = (3 + Math.random() * 2) + "s";
      snow.style.width = snow.style.height = (5 + Math.random()*8) + "px";
      document.body.appendChild(snow);
    }
  }

  if (type === "cloudy") {
    document.body.style.background = "#b0bec5";
  }
}
</script>

</body>
</html>
